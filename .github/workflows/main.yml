name: Yocto Check

on:
  push:
    branches:
      - main  # Le nom de votre branche principale

jobs:
  build-and-test:
    runs-on: ubuntu-20.04

    steps:
    - name: Checkout du code
      uses: actions/checkout@v3
      
    - name: Set up Python
      uses: actions/setup-python@v3  # Utilisez la version 2 de l'action setup-python
      with:
        python-version: 3.x  # Sp√©cifiez la version Python que vous utilisez

    - uses: actions/cache@v3
      id: cache-packages
      with:
        path: ${{ runner.temp }}/cache-linux
        key: ${{ runner.os }}-cache-packages-v3.0
        
    - name: Install packages
      if: steps.cache-packages.outputs.cache-hit != 'true'
      env:
        SOURCE: ${{ runner.temp }}/cache-linux
      run: |
          echo "NOOOOOOOOOOOOOOOOOOOOOOOOOOOON"
          set +xv
          echo "# --------------------------------------------------------"
          echo "# Action environment variables"
          echo "github.workspace: ${{ github.workspace }}"
          echo "runner.workspace: ${{ runner.workspace }}"

    - name: Installing my environnment 1 
      run: |
        chmod +x install_env.sh
        ./install_env.sh

    - name: Archives after save
      run: python test_probe.py




        
